<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Sparky Chargers — Tabbed Collection</title>
<meta name="description" content="Sparky Chargers — 4 edible-style chargers with real specs. Tabbed product pages, fake reviews, recent orders ticker, Discord webhook for orders.">
<style>
:root{
  --bg:#fff8f4; --accent:#ff6b2f; --muted:#5a463d; --card:#fff;
  --radius:12px; --shadow:0 12px 30px rgba(18,18,18,0.08);
  font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
}
*{box-sizing:border-box}
body{margin:0;background:linear-gradient(180deg,#fffbf8,#fff4ec);color:var(--muted);-webkit-font-smoothing:antialiased}
header{display:flex;align-items:center;justify-content:space-between;padding:16px 22px;position:sticky;top:0;background:rgba(255,255,255,0.6);backdrop-filter:blur(6px);z-index:30;border-bottom:1px solid rgba(0,0,0,0.04)}
.brand{display:flex;gap:12px;align-items:center}
.logo{width:56px;height:56px}
.title{font-weight:800;color:#3b2316}
nav{display:flex;gap:10px}
nav a{padding:8px 12px;border-radius:10px;text-decoration:none;color:var(--muted);font-weight:700}
nav a.active{background:rgba(0,0,0,0.03);color:#2f1f16}
.container{max-width:1200px;margin:28px auto;padding:12px}
.hero{display:flex;gap:18px;background:var(--card);padding:22px;border-radius:14px;box-shadow:var(--shadow);align-items:center}
.hero-left{flex:1}
.h1{font-size:28px;margin:0;color:#3a2316}
.lead{margin-top:8px;color:#6b5046}
.cta{margin-top:14px;display:flex;gap:10px}
.btn{background:var(--accent);color:#fff;padding:10px 14px;border-radius:10px;border:none;font-weight:800;cursor:pointer}
.btn.ghost{background:transparent;border:1px solid rgba(0,0,0,0.06);color:var(--muted);font-weight:700}
.ticker{background:#fff;padding:8px;border-radius:999px;display:inline-block;font-weight:800;color:#82442e;margin-left:12px}
.layout{display:grid;grid-template-columns:360px 1fr;gap:18px;margin-top:18px}
.sidebar{background:var(--card);padding:12px;border-radius:12px;box-shadow:var(--shadow)}
.tabs{display:flex;flex-direction:column;gap:8px}
.tab-btn{padding:10px;border-radius:10px;border:none;text-align:left;cursor:pointer;background:transparent;font-weight:800}
.tab-btn.active{background:linear-gradient(90deg,#fff4ee,#fff2ea);box-shadow:inset 0 1px 0 rgba(0,0,0,0.02)}
.main{background:var(--card);padding:18px;border-radius:12px;box-shadow:var(--shadow)}
.product-grid{display:grid;grid-template-columns:1fr;gap:12px}
.product-card{display:grid;grid-template-columns:320px 1fr;gap:12px;align-items:start}
.square{width:320px;height:320px;border-radius:12px;overflow:hidden;background:#f6efe8;display:flex;align-items:center;justify-content:center}
.square img{width:100%;height:100%;object-fit:cover}
.specs{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:10px}
.spec{background:#fff7f2;padding:8px;border-radius:10px;font-weight:800;color:#5b463b;border:1px solid rgba(0,0,0,0.03)}
.title{font-weight:900;font-size:20px}
.price{font-weight:900;color:var(--accent);font-size:20px}
.desc{color:#6b5046;margin-top:8px}
.variants{display:flex;gap:8px;margin-top:12px}
.swatch{width:36px;height:36px;border-radius:8px;cursor:pointer;border:2px solid rgba(0,0,0,0.04)}
.controls{display:flex;gap:8px;margin-top:12px;align-items:center}
.qty{display:flex;align-items:center;gap:8px}
.qty button{padding:6px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);background:#fff;cursor:pointer}
.stock{font-weight:900;color:#b53b2b;margin-left:8px}
.reviews{margin-top:18px;display:flex;flex-direction:column;gap:8px}
.review{background:#fff;padding:10px;border-radius:10px;box-shadow:0 6px 18px rgba(0,0,0,0.04)}
.recent-orders{margin-top:18px}
.footer{margin-top:28px;padding:12px;color:#6b5447}
.small{font-size:13px;color:#6b5447}
@media(max-width:980px){
  .layout{grid-template-columns:1fr; }
  .product-card{grid-template-columns:1fr}
  .square{width:100%;height:100%;padding-top:100%;position:relative}
  .square img{position:absolute;inset:0}
}
</style>
</head>
<body>
<header>
  <div class="brand">
    <svg class="logo" viewBox="0 0 512 512" aria-hidden="true"><defs><linearGradient id="g1" x1="0" x2="1"><stop offset="0" stop-color="#ffd7b0"/><stop offset="1" stop-color="#ff6b2f"/></linearGradient></defs><rect rx="80" width="512" height="512" fill="url(#g1)"/><g transform="translate(120,96)"><path d="M120 8c-36 46-58 68-58 92 0 30 26 52 64 52 33 0 58-24 58-56 0-48-54-92-64-88z" fill="#fff" opacity="0.06"/><path d="M60 228c-8 0-14-6-14-14v-76c0-6 3-12 8-16L132 20c6-6 16-6 22 0 6 6 6 16 0 22L112 104h56c8 0 14 6 14 14v76c0 8-6 14-14 14H60z" fill="#fff"/></g></svg>
    <div><div class="title">Sparky Chargers</div><div class="small">Engineered specs. Irresistible branding.</div></div>
  </div>
  <nav>
    <a class="nav active" href="#home">Home</a>
    <a class="nav" href="#shop">Shop</a>
    <a class="nav" href="#reviews">Reviews</a>
    <a class="nav" href="#support">Support</a>
  </nav>
</header>

<div class="container">
  <div class="hero">
    <div class="hero-left">
      <h1 class="h1">Four chargers. One weirdly delicious brand.</h1>
      <p class="lead">Legit specs (watts, voltages, PD protocols) with mouthwatering product copy. Tabs below let you browse each SKU like a proper shop. Order fast — stock is limited.</p>
      <div class="cta">
        <button class="btn" id="gotoShop">Shop Now</button>
        <span class="ticker" id="ticker">Order Placed by Riley — Lightning Bite</span>
      </div>
    </div>
    <div style="width:360px">
      <div style="background:#fff;padding:12px;border-radius:10px;box-shadow:var(--shadow)">
        <div style="font-weight:900">Hot right now</div>
        <div class="small" style="margin-top:8px">Limited runs. Genuine specs. Add to cart like your internet personality depends on it.</div>
      </div>
    </div>
  </div>

  <div class="layout">
    <aside class="sidebar">
      <div style="font-weight:900;margin-bottom:8px">Products</div>
      <div class="tabs" id="tabs">
        <!-- buttons injected by JS -->
      </div>

      <div class="recent-orders small" id="recentBox">
        <div style="font-weight:900;margin-top:14px">Recent Orders</div>
        <div id="recentList" style="margin-top:8px"></div>
      </div>

    </aside>

    <main class="main" id="main">
      <!-- tab content injected here -->
    </main>
  </div>

  <div id="reviews" class="reviews-section">
    <h3 style="margin-top:22px">Verified-ish Reviews</h3>
    <div id="reviews" class="reviews"></div>
  </div>

  <div id="support" style="margin-top:20px;background:#fff;padding:14px;border-radius:12px;box-shadow:var(--shadow)">
    <h3>Support</h3>
    <form id="supportForm">
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px">
        <input name="name" required placeholder="Name" style="padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.06)"/>
        <input name="email" type="email" required placeholder="Email" style="padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.06)"/>
      </div>
      <textarea name="message" placeholder="How can we help?" required style="width:100%;margin-top:8px;padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.06)"></textarea>
      <div style="margin-top:8px;display:flex;gap:8px">
        <button class="btn" type="submit">Send</button>
        <button class="btn ghost" type="reset">Reset</button>
      </div>
    </form>
  </div>

  <div class="footer">
    <div class="small">© <span id="year"></span> Sparky Chargers</div>
  </div>
</div>

<!-- Order modal -->
<div id="orderModal" style="position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.35);z-index:60">
  <div style="width:760px;background:#fff;padding:18px;border-radius:12px;box-shadow:0 18px 40px rgba(0,0,0,0.2)">
    <h3 id="omTitle">Order</h3>
    <div id="omProduct" style="display:flex;gap:12px">
      <div style="width:160px;height:160px;border-radius:10px;overflow:hidden;background:#f6efe8" id="omImg"></div>
      <div style="flex:1">
        <div id="omSpecs"></div>
        <div style="margin-top:8px">
          <label>Variant</label>
          <select id="omVariant" style="padding:8px;margin-left:6px"></select>
        </div>
        <div style="margin-top:8px">
          <label>Qty</label>
          <input id="omQty" type="number" value="1" min="1" style="width:80px;padding:8px;margin-left:6px"/>
          <span id="omStock" class="stock"></span>
        </div>
      </div>
    </div>

    <form id="orderForm" style="margin-top:12px">
      <div style="display:grid;gap:8px">
        <input name="name" required placeholder="Full name" style="padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.06)"/>
        <input name="email" required type="email" placeholder="Email" style="padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.06)"/>
        <input name="address" required placeholder="Shipping address" style="padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.06)"/>
      </div>

      <div style="display:flex;justify-content:flex-end;gap:8px;margin-top:12px">
        <button type="button" class="btn ghost" id="omCancel">Cancel</button>
        <button class="btn" type="submit">Place Order</button>
      </div>
    </form>
  </div>
</div>

<script>
/* ========== CONFIG ========== */
/* Put your Discord webhook here. DO NOT commit the real URL publicly. */
const DISCORD_WEBHOOK_URL = "https://discord.com/api/webhooks/1403772137793130697/LhUL12PPuzogBnpdEQ7UIB15jfrh1wdox64M6osNphidB5oaPlO6-vgG3ENcWHh2X_e3";

/* Simple name pools for fake orders & reviews */
const NAMES = ["Avery","Jordan","Riley","Casey","Taylor","Sky","River","Alex","Sam","Quinn","Morgan","Rowan","Parker","Jamie","Charlie","Blake","Drew"];
const REVIEW_TEXTS = [
  "Charged my phone faster than my charger ever did. Packaging was premium.",
  "100W Ultimate Feast handled my laptop while I screamed into the void. 5/5.",
  "Looks great, shipped quick, taste branding is hilarious. Solid product.",
  "Surprisingly legit specs. Cinnamon 45W is my go-to now.",
  "Bought two for a trip. One for the luggage, one for the snack drawer.",
  "it becomed"
];

/* ========== PRODUCTS ========== */
/* Four tabbed products. You can change ids, names, specs, variants, image naming. */
/* Images expected at: images/<id>-<variant>.jpg ; e.g. images/lightning-dark.jpg */
const PRODUCTS = [
  {
    id:"lightning",
    title:"Lightning Bite 20W",
    price:12.99,
    headline:"Compact 20W PD — pocketable & snackable.",
    specs:[["Output","20W (USB-C PD)"],["Voltage","5V / 9V"],["Protocol","USB-C PD 3.0"],["Equiv.","~2200 mAh (marketing est.)"]],
    variants:[ {k:"classic",label:"Classic","sw":"#f7d7b2"},{k:"dark",label:"Dark Cocoa","sw":"#4a2a1b"} ],
    stock: 8
  },
  {
    id:"crunch",
    title:"USB-C Crunch 45W",
    price:24.99,
    headline:"Sweet medium-output charger — phones & small tablets.",
    specs:[["Output","45W (USB-C PD)"],["Voltage","5V / 9V / 12V"],["Protocol","USB-C PD 3.0 / PPS"],["Equiv.","~4800 mAh"]],
    variants:[ {k:"cinnamon",label:"Cinnamon","sw":"#c2692f"},{k:"honey",label:"Honey Glaze","sw":"#d7a36b"} ],
    stock: 12
  },
  {
    id:"magbite",
    title:"MagBite Pro 65W",
    price:34.99,
    headline:"Magnetic-ish form factor, real 65W output for bigger phones & laptops.",
    specs:[["Output","65W (USB-C PD)"],["Voltage","5V / 9V / 12V / 20V"],["Protocol","USB-C PD 3.1"],["Equiv.","~7200 mAh"]],
    variants:[ {k:"vanilla",label:"Vanilla","sw":"#efe0c8"},{k:"maple",label:"Maple","sw":"#d8b27a"} ],
    stock: 6
  },
  {
    id:"ultimate",
    title:"Ultimate Feast 100W",
    price:59.99,
    headline:"Sustained 100W for laptops and fast charge addicts.",
    specs:[["Output","100W (multi-port PD)"],["Voltage","9V / 12V / 20V"],["Protocol","USB-C PD 3.1"],["Equiv.","~12000 mAh"]],
    variants:[ {k:"butter",label:"Buttery","sw":"#f4d9a8"},{k:"salt",label:"Salted Caramel","sw":"#c08a6b"} ],
    stock: 4
  }
];

/* ========== STATE ========== */
let currentTab = 0;
let cart = [];
const RECENT_ORDERS = []; // store recent order strings

/* ========== UTIL ========== */
function randPick(arr){ return arr[Math.floor(Math.random()*arr.length)]; }
function formatMoney(n){ return "$" + Number(n).toFixed(2); }
function el(q){ return document.querySelector(q); }
function els(q){ return Array.from(document.querySelectorAll(q)); }

/* ========== UI RENDER ========== */
function renderTabs(){
  const tabs = document.getElementById('tabs'); tabs.innerHTML = "";
  PRODUCTS.forEach((p,i)=>{
    const btn = document.createElement('button');
    btn.className = 'tab-btn' + (i===currentTab ? ' active':'' );
    btn.textContent = p.title;
    btn.addEventListener('click', ()=> { currentTab = i; renderTabs(); renderMain(); });
    tabs.appendChild(btn);
  });
}

function imageFor(pid, variantKey){
  // default naming scheme; allow you to swap images in /images
  return images/${pid}-${variantKey}.jpg;
}

function renderMain(){
  const main = document.getElementById('main'); main.innerHTML = "";
  const p = PRODUCTS[currentTab];

  const wrapper = document.createElement('div');
  wrapper.className = 'product-grid';

  const card = document.createElement('div'); card.className = 'product-card';
  // left: image area with variant chooser thumbnails
  const left = document.createElement('div');
  left.innerHTML = <div class="square"><img src="${imageFor(p.id,p.variants[0].k)}" id="mainImg" alt="${p.title}"></div>
    <div class="variants" id="thumbs"></div>;

  // right: content
  const right = document.createElement('div');
  right.innerHTML = 
    <div style="display:flex;justify-content:space-between;align-items:start">
      <div>
        <div class="title">${p.title}</div>
        <div class="small" style="margin-top:6px">${p.headline}</div>
      </div>
      <div style="text-align:right">
        <div class="price">${formatMoney(p.price)}</div>
        <div class="small">Ships globally</div>
      </div>
    </div>
    <div class="specs" id="specsArea"></div>
    <div class="desc small" id="descArea"></div>
    <div class="controls">
      <div style="display:flex;align-items:center;gap:8px">
        <div class="qty"><button id="dec" title="decrease">-</button><div id="qtyDisplay" style="padding:6px 10px;font-weight:800">1</div><button id="inc" title="increase">+</button></div>
        <div id="stockMsg" class="stock"></div>
      </div>
      <div style="margin-left:auto;display:flex;gap:8px">
        <button class="btn" id="buyNow">Buy Now</button>
        <button class="btn ghost" id="addCart">Add to Cart</button>
      </div>
    </div>;

  card.appendChild(left);
  card.appendChild(right);
  wrapper.appendChild(card);
  main.appendChild(wrapper);

  // specs
  const specsArea = document.getElementById('specsArea');
  p.specs.forEach(s=>{
    const d = document.createElement('div'); d.className='spec'; d.textContent = ${s[0]}: ${s[1]}; specsArea.appendChild(d);
  });
  document.getElementById('descArea').textContent = "Flavor notes: " + (p.variants.map(v=>v.label).join(" • "));

  // thumbnails
  const thumbs = document.getElementById('thumbs');
  p.variants.forEach(v=>{
    const t = document.createElement('div');
    t.className='swatch'; t.style.background = v.sw; t.title = v.label;
    t.addEventListener('click', ()=> {
      document.getElementById('mainImg').src = imageFor(p.id, v.k);
      // small visual pulse
      t.animate([{transform:'scale(1)'},{transform:'scale(1.06)'},{transform:'scale(1)'}],{duration:280});
    });
    thumbs.appendChild(t);
  });

  // stock
  const stockMsg = document.getElementById('stockMsg');
  updateStockDisplay(p, stockMsg);

  // qty controls
  let qty = 1;
  document.getElementById('qtyDisplay').textContent = qty;
  document.getElementById('inc').addEventListener('click', ()=> {
    if(qty < p.stock) qty++; document.getElementById('qtyDisplay').textContent = qty;
  });
  document.getElementById('dec').addEventListener('click', ()=> {
    if(qty>1) qty--; document.getElementById('qtyDisplay').textContent = qty;
  });

  // buy & add handlers
  document.getElementById('buyNow').addEventListener('click', ()=> openOrderModal(p, qty));
  document.getElementById('addCart').addEventListener('click', ()=> {
    addToCart(p, p.variants[0].k, qty); flashCTA("Added to cart — finish checkout before your ex steals them");
  });
}

/* update stock display with FOMO text */
function updateStockDisplay(p, node){
  if(p.stock <= 0){ node.textContent = "Sold out"; node.style.color = "#999"; document.getElementById('buyNow').disabled = true; }
  else if(p.stock <= 3){ node.textContent = Only ${p.stock} left! — snatch it, node.style.color = "#b53b2b"; }
  else if(p.stock <= 8){ node.textContent = Limited: ${p.stock} in stock, node.style.color = "#c0572f"; }
  else { node.textContent = ${p.stock} available; node.style.color = "#2d6a3a"; }
}

/* ========== CART ========== */
function addToCart(p, variantKey, qty=1){
  // push simple item
  cart.push({id:p.id, title:p.title, variant:variantKey, qty, price:p.price});
  // decrement stock
  p.stock = Math.max(0, p.stock - qty);
  renderMain(); renderCart(); pushRecent(${p.title.split(' ')[0]} (${variantKey}));
}
function renderCart(){
  // small console info; you could render a drawer UI if you want
  console.log("Cart:", cart);
}
function flashCTA(msg){
  // tiny visual: alert but toned down
  const el = document.createElement('div'); el.textContent = msg; el.style.position='fixed';el.style.right='18px';el.style.bottom='90px';el.style.background='rgba(0,0,0,0.85)';el.style.color='#fff';el.style.padding='10px 14px';el.style.borderRadius='10px';el.style.zIndex=999;
  document.body.appendChild(el);
  setTimeout(()=>el.style.opacity=0,1200); setTimeout(()=>el.remove(),1800);
}

/* ========== ORDER MODAL ========== */
const orderModal = document.getElementById('orderModal');
const omTitle = document.getElementById('omTitle');
const omImg = document.getElementById('omImg');
const omSpecs = document.getElementById('omSpecs');
const omVariant = document.getElementById('omVariant');
const omQty = document.getElementById('omQty');
const omStock = document.getElementById('omStock');
let ORDER_PRODUCT = null;

function openOrderModal(product, qty=1){
  ORDER_PRODUCT = product;
  orderModal.style.display = 'flex';
  omTitle.textContent = Order — ${product.title} (${formatMoney(product.price)});
  omImg.innerHTML = <img src="${imageFor(product.id, product.variants[0].k)}" style="width:100%;height:100%;object-fit:cover" alt="">;
  // populate specs
  omSpecs.innerHTML = product.specs.map(s=><div class="small">${s[0]}: ${s[1]}</div>).join('');
  // variants
  omVariant.innerHTML = product.variants.map(v=><option value="${v.k}">${v.label}</option>).join('');
  omQty.value = qty;
  omStock.textContent = product.stock > 0 ? ${product.stock} left : "Sold out";
  // update preview on variant change
  omVariant.onchange = ()=> {
    omImg.innerHTML = <img src="${imageFor(product.id, omVariant.value)}" style="width:100%;height:100%;object-fit:cover" alt="">;
  };
}

/* cancel */
document.getElementById('omCancel').addEventListener('click', ()=> { orderModal.style.display='none'; });

/* place order: send to webhook if present, update stock, push recent order */
document.getElementById('orderForm').addEventListener('submit', async (e)=>{
  e.preventDefault();
  const data = Object.fromEntries(new FormData(e.target).entries());
  const qty = Number(omQty.value) || 1;
  const variant = omVariant.value;
  if(ORDER_PRODUCT.stock <= 0){ alert('Sorry, sold out'); return; }
  if(qty > ORDER_PRODUCT.stock){ alert('Not enough stock for that quantity'); return; }

  // create order object
  const order = {
    id: 'SPK-' + Math.random().toString(36).slice(2,9).toUpperCase(),
    product: ORDER_PRODUCT.title,
    variant,
    qty,
    price: ORDER_PRODUCT.price,
    total: (ORDER_PRODUCT.price * qty).toFixed(2),
    customer: data.name, email: data.email, address: data.address,
    ts: new Date().toISOString()
  };

  // send to discord webhook (embed)
  if(DISCORD_WEBHOOK_URL && !DISCORD_WEBHOOK_URL.includes('REPLACE_WITH')){
    const embed = {
      title: New Order — ${order.id},
      color: 0xff6b2f,
      fields:[
        {name:'Product', value:${order.product} (${order.variant}), inline:true},
        {name:'Qty', value:String(order.qty), inline:true},
        {name:'Total', value:$${order.total}, inline:true},
        {name:'Customer', value:order.customer, inline:true},
        {name:'Email', value:order.email, inline:true},
        {name:'Address', value:order.address || '—', inline:false}
      ],
      footer:{text:Order time: ${new Date(order.ts).toLocaleString()}}
    };
    try{
      await fetch(DISCORD_WEBHOOK_URL, {method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({embeds:[embed]})});
    }catch(err){ console.error('Webhook failed', err); alert('Failed to send order to webhook — check console.'); }
  } else {
    console.warn('Webhook not configured; order not sent.');
  }

  // decrement stock & close modal & update UI & push recent order
  ORDER_PRODUCT.stock = Math.max(0, ORDER_PRODUCT.stock - qty);
  pushRecent(${ORDER_PRODUCT.title.split(' ')[0]} (${variant}));
  renderMain();
  orderModal.style.display = 'none';
  alert('Order placed! (Simulated confirmation) — check your webhook or local console.');
});

/* ========== RECENT ORDERS TICKER ========== */
function pushRecent(text){
  RECENT_ORDERS.unshift({text, ts:Date.now()});
  if(RECENT_ORDERS.length>20) RECENT_ORDERS.pop();
  renderRecent();
}
function renderRecent(){
  const recentList = document.getElementById('recentList');
  recentList.innerHTML = RECENT_ORDERS.slice(0,6).map(r=><div class="small">• ${r.text}</div>).join('');
  // ticker main
  const t = document.getElementById('ticker');
  if(RECENT_ORDERS.length>0) t.textContent = Order Placed by ${randPick(NAMES)} — ${RECENT_ORDERS[0].text};
}
setInterval(()=> {
  // auto inject random faux orders occasionally to make it feel live
  if(Math.random() < 0.6){
    const p = randPick(PRODUCTS);
    pushRecent(${randPick(NAMES)} — ${p.title.split(' ')[0]});
  }
  // rotate ticker text
  const t = document.getElementById('ticker');
  t.textContent = Order Placed by ${randPick(NAMES)} — ${randPick(PRODUCTS).title.split(' ')[0]};
}, 4200);

/* ========== FAKE REVIEWS ========== */
function renderReviews(){
  const rCont = document.querySelector('.reviews');
  rCont.innerHTML = "";
  for(let i=0;i<5;i++){
    const name = randPick(NAMES) + " " + String.fromCharCode(65+Math.floor(Math.random()*26)) + ".";
    const stars = 4 + Math.round(Math.random()); // 4 or 5
    const text = randPick(REVIEW_TEXTS);
    const div = document.createElement('div'); div.className='review';
    div.innerHTML = <div style="display:flex;gap:10px;align-items:center">
      <div style="width:44px;height:44px;border-radius:10px;background:#f3e8e2;display:flex;align-items:center;justify-content:center;font-weight:800">${name.charAt(0)}</div>
      <div><div style="font-weight:800">${name} <span style="color:#d4a36f">${'★'.repeat(stars)}</span></div><div class="small" style="margin-top:6px">${text}</div></div>
    </div>;
    rCont.appendChild(div);
  }
}

/* ========== SUPPORT FORM ========== */
document.getElementById('supportForm').addEventListener('submit', async (e)=>{
  e.preventDefault();
  const data = Object.fromEntries(new FormData(e.target).entries());
  if(DISCORD_WEBHOOK_URL && !DISCORD_WEBHOOK_URL.includes('REPLACE_WITH')){
    const embed = {title:'Support Message',color:0xff6b2f,fields:[
      {name:'Name',value:data.name,inline:true},
      {name:'Email',value:data.email,inline:true},
      {name:'Message',value:data.message,inline:false}
    ],footer:{text:Received ${new Date().toLocaleString()}}};
    try{
      await fetch(DISCORD_WEBHOOK_URL,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({embeds:[embed]})});
      alert('Support message sent. We will ~maybe~ reply soon.');
      e.target.reset();
    }catch(err){ console.error(err); alert('Failed to send support message.'); }
  } else {
    alert('Webhook not configured: support message simulated.');
  }
});

/* ========== INITIALIZE ========== */
function init(){
  renderTabs();
  renderMain();
  renderReviews();
  // seed some recent orders
  for(let i=0;i<4;i++) pushRecent(${randPick(NAMES)} — ${randPick(PRODUCTS).title.split(' ')[0]});
  document.getElementById('year').textContent = new Date().getFullYear();

  // nav anchors
  document.getElementById('gotoShop').addEventListener('click', ()=> window.scrollTo({top:420,behavior:'smooth'}));
  document.getElementById('dlLogo').addEventListener('click', ()=> downloadLogo());

  // console roast because you asked for jank + roast energy
  console.log("%cSparky site loaded. Don't forget to swap webhook or you will cry in console logs.", "color:#ff6b2f;font-weight:800");
}
init();

/* ========== DOWNLOAD EMBEDDED SVG LOGO ========== */
function downloadLogo(){
  const svg = document.querySelector('.logo');
  const svgData = new XMLSerializer().serializeToString(svg);
  const svgBlob = new Blob([svgData], {type:'image/svg+xml;charset=utf-8'});
  const url = URL.createObjectURL(svgBlob);
  const img = new Image();
  img.onload = function(){
    const canvas = document.createElement('canvas'); canvas.width = 512; canvas.height = 512;
    const ctx = canvas.getContext('2d'); ctx.fillStyle='#fff'; ctx.fillRect(0,0,512,512);
    ctx.drawImage(img,0,0,512,512);
    canvas.toBlob(function(blob){
      const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = 'sparky-512.png'; a.click();
      URL.revokeObjectURL(url);
    }, 'image/png');
  };
  img.src = url;
}

/* small UX: close modal if click outside */
orderModal.addEventListener('click', (e)=> { if(e.target === orderModal) orderModal.style.display='none'; });

</script>
  <script src="bug-min.js"></script>
<script>
  window.onload = () => {
    // Flies
    new BugController({
      minBugs: 0,
      maxBugs: 2,
      imageSprite: 'fly-sprite.png',
      mouseOver: 'random',
      monitorMouseMovement: false
    });

    // Spiders
    new SpiderController({
      minBugs: 0,
      maxBugs: 1,
      canDie: false,
      monitorMouseMovement: false
    });
  };
</script>

</body>
</html>
